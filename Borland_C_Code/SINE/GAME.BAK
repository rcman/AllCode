
#include <dos.h>
#include <stdio.h>
#include <stdlib.h>
#include <alloc.h>
#include <memory.h>
#include <string.h>
#include <time.h>
#include <math.h>
#include <mem.h>



void Init_Mode(void);
void Close_Mode(void);
void PutImage(int spx, int spy);
void getch(void);

//Global

char far *scrn  = MK_FP(0xa000,0);

static char ship1[16][16] = {

	 { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x34, 0x34, 0x34, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x34, 0x34,0x34, 0x34, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x00, 0x34, 0x34, 0x34, 0x34,0x34, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x34, 0x34, 0x34, 0x34, 0x34,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x34, 0x34, 0x34, 0x34, 0x34, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x34, 0x34, 0x34, 0x34, 0x34, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x34, 0x34, 0x34, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },


  };

float spx=10;            // Pixels
float spy=0;
float opx;
float opy;
float swav;

int x,y,xy1,xy,fl,tm;
int z=0;
int offset = 0;


void main(void)
{
	int i,xx,t;


	Init_Mode();
	PutImage(spx,spy);
	//initarray();


	do {

	opx = spx;
	opy = spy;

	swav = sin((spy *(3.14159267 /180)) *30 +100);
	swav = swav *60+100;
	PutImage(spx,swav);

	spy = spy + .2;
	if (spy >360)
		{
		spy=0;
		}
	spx = spx +2;
      //	if (spx >300)
	//	{
	  //	spx = 10;
	   //	}
	delay(45);


	}while(spx<310);

	Close_Mode();

}






void Init_Mode(void)
{
	asm {
		mov ax,0x13
		int 0x10
	    }
}



void Close_Mode()
{

	asm {
		mov ax,0x03
		int 0x10
		}

}







void PutImage(int spx,int spy)
{
	int y,i;
	offset = ((float)spy*320)+spx;


	for(y=0;y<16;y++)
	{
		for(i=0;i<16;i++)
		{
		  *(scrn+offset+i)=ship1[i][y];
		}
		offset=offset+320;

	}
	offset=0;
}



